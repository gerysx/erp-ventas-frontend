<h2 mat-dialog-title>Detalles de Ventas - {{ data.ventas.producto?.nombre }}</h2>

<mat-dialog-content>
  <p><strong>Precio:</strong> {{ data.ventas.producto?.precio | currency }}</p>
  <p><strong>Total Cantidad Vendida:</strong> {{ data.ventas.totalCantidad }}</p>
  <p><strong>Total Ventas:</strong> {{ data.ventas.totalVentas | currency }}</p>

  <table class="table table-bordered mt-3" *ngIf="data.ventas.detalles?.length > 0">
    <thead>
      <tr>
        <th>Cantidad</th>
        <th>Precio Unitario</th>
        <th>Subtotal</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let d of data.ventas.detalles">
        <td>{{ d.cantidad }}</td>
        <td>{{ d.precioUnitario | currency }}</td>
        <td>{{ d.cantidad * d.precioUnitario | currency }}</td>
      </tr>
    </tbody>
  </table>

  <p *ngIf="!data.ventas.detalles?.length">No hay detalles para este producto.</p>

  <h4 class="mt-3 text-end">
    Total Calculado: {{ getTotal(data.ventas.detalles) | currency }}
  </h4>
</mat-dialog-content>

<mat-dialog-actions align="end">
  <button mat-button (click)="cerrar()">Cerrar</button>
</mat-dialog-actions>
